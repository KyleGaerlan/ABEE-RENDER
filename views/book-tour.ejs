<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Tour - A.BEE Travel and Tours</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/fontstyle.css">
    <style>
        .booking-container {
            max-width: 1000px;
            margin: 120px auto 50px;
            padding: 30px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .booking-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .booking-header h1 {
            color: #333;
            margin-bottom: 10px;
        }

        .booking-header p {
            color: #666;
        }

        .booking-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        @media (max-width: 768px) {
            .booking-grid {
                grid-template-columns: 1fr;
            }
        }

        .tour-details {
            border-right: 1px solid #eee;
            padding-right: 30px;
        }

        @media (max-width: 768px) {
            .tour-details {
                border-right: none;
                padding-right: 0;
                border-bottom: 1px solid #eee;
                padding-bottom: 20px;
                margin-bottom: 20px;
            }
        }

        .tour-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .tour-info h2 {
            color: #333;
            margin-bottom: 15px;
        }

        .tour-info p {
            color: #666;
            margin-bottom: 10px;
        }

        .price-tag {
            font-size: 24px;
            font-weight: bold;
            color: #f26523;
            margin: 15px 0;
        }

        .booking-form h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .form-group input[type="date"] {
            font-family: inherit;
        }

        .payment-methods {
            margin-top: 30px;
        }

        .payment-methods h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .payment-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .payment-option {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-option:hover {
            border-color: #f26523;
        }

        .payment-option.selected {
            border-color: #f26523;
            background-color: rgba(242, 101, 35, 0.05);
        }

        .payment-option input[type="radio"] {
            margin-right: 15px;
        }

        .payment-logo {
            height: 30px;
            margin-right: 15px;
        }

        .payment-option-label {
            flex-grow: 1;
        }

        .payment-details {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            display: none;
        }

        .payment-details.active {
            display: block;
        }

        .payment-instructions {
            margin-top: 10px;
            font-size: 14px;
            color: #666;
        }

        .payment-instructions ol {
            padding-left: 20px;
        }

        .payment-instructions li {
            margin-bottom: 5px;
        }

        .gcash-details {
            background-color: #f8f8f8;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
        }

        .gcash-number {
            font-weight: bold;
            color: #0073e6;
        }

        .store-details {
            background-color: #f8f8f8;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
        }

        .store-address {
            font-weight: bold;
        }

        .booking-summary {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f8f8;
            border-radius: 4px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #ddd;
            font-weight: bold;
            font-size: 18px;
        }

        .btn-book {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: #f26523;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        .btn-book:hover {
            background-color: #d9531e;
        }

        .btn-book:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }


        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 5px;
        }

        .success-message {
            color: #28a745;
            font-size: 14px;
            margin-top: 5px;
        }

        .booking-confirmation {
            text-align: center;
            padding: 30px;
            display: none;
        }

        .confirmation-icon {
            font-size: 60px;
            color: #28a745;
            margin-bottom: 20px;
        }

        .confirmation-message {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
        }

        .confirmation-details {
            margin-bottom: 30px;
        }

        .confirmation-details p {
            margin-bottom: 10px;
        }

        .btn-home {
            display: inline-block;
            padding: 10px 20px;
            background-color: #f26523;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            display: none;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #f26523;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .readonly-field {
            background-color: #f5f5f5;
            cursor: not-allowed;
            border: 1px solid #ddd;
            color: #666;
        }

        .readonly-field:focus {
            outline: none;
            box-shadow: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            max-width: 400px;
            width: 90%;
            text-align: center;
            position: relative;
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            font-weight: bold;
            color: #999;
            cursor: pointer;
            transition: color 0.2s;
        }

        .close-modal:hover {
            color: #333;
        }

        .modal-icon {
            margin-bottom: 20px;
        }

        .modal h2 {
            color: #333;
            margin-bottom: 15px;
        }

        .modal p {
            color: #666;
            margin-bottom: 25px;
            font-size: 16px;
        }

        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .btn-primary {
            padding: 10px 20px;
            background-color: #f26523;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn-primary:hover {
            background-color: #d9531e;
        }

        .btn-secondary {
            padding: 10px 20px;
            background-color: #e0e0e0;
            color: #333;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn-secondary:hover {
            background-color: #d0d0d0;
        }
        
        /* Back button styles */
        .back-button {
            display: inline-block;
            padding: 8px 15px;
            background-color: #f26523;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
            transition: background-color 0.3s;
            cursor: pointer;
            border: none;
        }
        
        .back-button:hover {
            background-color: #d9531e;
        }
        
        /* Responsive navbar styles */
        @media (max-width: 992px) {
            nav ul {
                margin-left: 0;
                justify-content: flex-end;
                padding-right: 20px;
            }
            
            .back-button-wrapper {
                margin-right: auto;
            }
        }
        
        @media (max-width: 768px) {
            nav ul {
                padding-right: 10px;
                gap: 10px;
            }
            
            .back-button {
                padding: 6px 12px;
                font-size: 14px;
            }
        }/* Mobile navbar styles */
.hamburger-menu {
    display: none;
    flex-direction: column;
    justify-content: space-between;
    width: 30px;
    height: 21px;
    cursor: pointer;
    margin-right: 20px;
    z-index: 1001;
}

.hamburger-menu span {
    display: block;
    height: 3px;
    width: 100%;
    background-color: #333;
    border-radius: 3px;
    transition: all 0.3s ease;
}

.overlay-bg {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
}

.overlay-bg.active {
    display: block;
}

/* Hamburger menu animation */
.hamburger-menu.active span:nth-child(1) {
    transform: translateY(9px) rotate(45deg);
}

.hamburger-menu.active span:nth-child(2) {
    opacity: 0;
}

.hamburger-menu.active span:nth-child(3) {
    transform: translateY(-9px) rotate(-45deg);
}

/* Mobile menu styles */
@media (max-width: 768px) {
    .hamburger-menu {
        display: flex;
        position: absolute;
        right: 20px;
        top: 20px;
    }
    
    nav ul {
        position: fixed;
        top: 0;
        right: -100%;
        width: 250px;
        background-color: white;
        flex-direction: column;
        padding: 60px 20px 30px;
        transition: right 0.3s ease;
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        margin-left: 0;
        align-items: flex-start;
        gap: 15px;
        overflow-y: auto;
    }
    
    nav ul.active {
        right: 0;
    }
    
    nav ul li {
        width: 100%;
        margin: 0;
        padding: 0;
    }
    
    nav ul li a, 
    nav ul li button {
        display: block;
        width: 100%;
        padding: 8px 0;
        text-align: left;
        font-size: 16px;
    }
}
/* Add this after the existing modal styles */
.date-validation-modal {
    display: none;
    position: fixed;
    z-index: 1002;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    align-items: center;
    justify-content: center;
}

.date-validation-modal .modal-content {
    background-color: white;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    max-width: 400px;
    width: 90%;
    text-align: center;
    position: relative;
    animation: modalFadeIn 0.3s ease-out;
}

.date-validation-modal .modal-icon {
    font-size: 48px;
    color: #f26523;
    margin-bottom: 20px;
}

.date-validation-modal h2 {
    color: #333;
    margin-bottom: 15px;
}

.date-validation-modal p {
    color: #666;
    margin-bottom: 25px;
    font-size: 16px;
}
/* New styles for travel document section */
.travel-documents-section {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
    border-left: 4px solid #f26523;
}

.travel-documents-section h3 {
    color: #333;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
}

.travel-documents-section h3::before {
    content: "‚úàÔ∏è";
    margin-right: 10px;
    font-size: 20px;
}

.document-info {
    background-color: #e3f2fd;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 15px;
    border-left: 3px solid #2196f3;
}

.document-info h4 {
    color: #1976d2;
    margin-bottom: 10px;
    font-size: 16px;
}

.document-info ul {
    margin: 0;
    padding-left: 20px;
}

.document-info li {
    margin-bottom: 5px;
    color: #333;
}

.checkbox-group {
    display: flex;
    align-items: flex-start;
    margin-bottom: 15px;
}

.checkbox-group input[type="checkbox"] {
    width: auto;
    margin-right: 10px;
    margin-top: 3px;
}

.checkbox-group label {
    margin-bottom: 0;
    cursor: pointer;
    line-height: 1.4;
}

.warning-box {
    background-color: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 6px;
    padding: 15px;
    margin: 15px 0;
}

.warning-box h4 {
    color: #856404;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
}

.warning-box h4::before {
    content: "‚ö†Ô∏è";
    margin-right: 8px;
}

.warning-box p {
    color: #856404;
    margin: 0;
    font-size: 14px;
}

.form-section {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid #eee;
}

.form-section:last-child {
    border-bottom: none;
}

.form-section h3 {
    color: #333;
    margin-bottom: 15px;
    font-size: 18px;
}

    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="/images/Image-logo.png" alt="Logo">
            <img src="/images/Text-logo.png" alt="Logo">
        </div>
        <div class="top-contact-bar">
            <div class="contact-info">
                <span style="display: none">üìû 09361055665</span>
            <a href="https://www.facebook.com/abeetravelandtours" target="_blank" class="contact-icon" style="visibility: hidden">
                <img src="/images/communication.png" alt="Facebook" class="facebook-logo">
            </a>
            </div>
        </div>
        <nav>
            <ul>
                <li class="back-button-wrapper">
                    <button id="backButton" class="back-button" style="background: none; color: black;">Home</button>
                </li>
                
                <li id="loginBtnWrapper">
                    <button id="loginBtn">Login</button>
                </li>
                <li id="userProfile" style="display: none;">
                    <a href="javascript:void(0);" id="profileIconWrapper">
                        <img src="/images/profile.png" alt="User Profile" id="profileIcon" class="profile-icon">
                    </a>
                    <ul id="profileDropdown" class="dropdown-menu" style="display: none;">
                        <li><a href="/profile">Profile</a></li>
                        <li><a href="/settings">Settings</a></li>
                        <li><a href="/logout" id="logoutBtn">Logout</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <div class="booking-container">
        <div class="booking-header">
            <h1>Book Your Tour</h1>
            <p>Complete the form below to book your dream vacation</p>
        </div>

        <div id="bookingForm">
            <div class="booking-grid">
                <div class="tour-details">
                    <img src="" alt="Tour Image" class="tour-image" id="tourImage">
                    <div class="tour-info">
                        <h2 id="tourTitle">Loading tour details...</h2>
                        <p id="tourDestination"></p>
                        <p id="tourDuration"></p>
                        <p id="tourDescription"></p>
                        <div class="price-tag" id="tourPrice"></div>
                    </div>
                </div>

                <div class="booking-form">
                    <h2>Personal Information</h2>
                    <form id="tourBookingForm">
    <input type="hidden" id="tourId" name="tourId">
    
    <div class="form-section">
        <h3>Personal Information</h3>
        
        <div class="form-group">
            <label for="fullName">Full Name*</label>
            <input type="text" id="fullName" name="fullName" required>
        </div>
        
        <div class="form-group">
            <label for="email">Email Address*</label>
            <input type="email" id="email" name="email" required>
        </div>
        
        <div class="form-group">
            <label for="phone">Phone Number*</label>
            <input type="tel" id="phone" name="phone" pattern="[0-9]{11}" placeholder="09XXXXXXXXX" required>
        </div>
        <div class="form-group">
    <label for="nationality">Nationality*</label>
    <input type="text" id="nationality" name="nationality" required>
</div>

    </div>

    <div class="travel-documents-section">
        <h3>Travel Document Requirements</h3>
        
        <div class="document-info">
            <h4>Passport Requirements</h4>
            <ul>
                <li>Passport must be valid for at least 6 months from travel date</li>
                <li>Passport must have at least 2 blank pages for stamps</li>
                <li>Passport should not be damaged or have missing pages</li>
            </ul>
        </div>

        <div class="document-info">
            <h4>Visa Requirements</h4>
            <ul>
                <li>Check if your destination requires a visa</li>
                <li>Apply for visa at least 2-4 weeks before travel</li>
                <li>Some countries offer visa-on-arrival or e-visa options</li>
                <li>Tourist visa processing may take 5-15 business days</li>
            </ul>
        </div>

        <div class="warning-box">
            <h4>Important Notice</h4>
            <p>Please ensure your passport meets all requirements before booking. A.BEE Travel and Tours is not responsible for denied entry due to invalid travel documents. We recommend consulting with our travel advisors for specific visa requirements.</p>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="passportValid" name="passportValid" required>
            <label for="passportValid">I confirm that my passport is valid for at least 6 months from my travel date and has sufficient blank pages*</label>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="visaAware" name="visaAware" required>
            <label for="visaAware">I understand the visa requirements for my destination and will obtain necessary visas before travel*</label>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="documentResponsibility" name="documentResponsibility" required>
            <label for="documentResponsibility">I acknowledge that I am responsible for ensuring all my travel documents are valid and complete*</label>
        </div>
    </div>
    <div class="form-section">
        <h3>Booking Details</h3>
        <div class="form-group">
        <label for="travelers">Number of Travelers*</label>
        <input type="number" 
                id="travelers" 
                name="travelers" 
                min="1" 
                max="30"
                value="1" 
                required 
                onchange="updateTotalPrice()" 
                oninput="this.value = Math.max(1, parseInt(this.value) || 1)">
        <label for="travelers"><i>*Maximum of 30 travelers per booking</i></label>
        </div>
        
        <div class="form-group">
            <label for="startDate">Start Date*</label>
            <input type="date" id="startDate" name="startDate" required>
            <label for="startDate"><i>*Start Date of the tour can only be chosen 7 days in advance</i></label>
        </div>
        
        <div class="form-group">
            <label for="specialRequests">Special Requests</label>
            <textarea id="specialRequests" name="specialRequests" rows="3" placeholder="Any dietary restrictions, accessibility needs, or special occasions..."></textarea>
        </div>
    </div>
            <div class="payment-methods">
                <h3>Payment Method</h3>
                    <div class="payment-options">
                        <div class="payment-option" data-method="gcash">
                            <input type="radio" id="gcash" name="paymentMethod" value="gcash">
                            <img src="/images/gcash.png" alt="GCash" class="payment-logo">
                            <label for="gcash" class="payment-option-label">GCash</label>
                                </div>
                                
                                <div class="payment-option" data-method="store">
                                    <input type="radio" id="store" name="paymentMethod" value="store">
                                    <img src="/images/shop.png" alt="In-store" class="payment-logo">
                                    <label for="store" class="payment-option-label">Pay in Store</label>
                                </div>
                            </div>
                            
                        
                            
                            <div id="gcashDetails" class="payment-details">
                                <p>Please send your payment to our GCash account:</p>
                                <div class="gcash-details">
                                    <p>Account Name: <strong>A.BEE Travel and Tours</strong></p>
                                    <p>GCash Number: <span class="gcash-number">09361055665</span></p>
                                </div>
                                <div class="payment-instructions">
                                    <p>Instructions:</p>
                                    <ol>
                                        <li>Open your GCash app</li>
                                        <li>Tap on "Send Money"</li>
                                        <li>Enter the GCash number above</li>
                                        <li>Enter the total amount</li>
                                        <li>In the message field, include your name and booking reference</li>
                                        <li>Complete the payment</li>
                                        <li>Upload your payment receipt below</li>
                                    </ol>
                                </div>
                                <div class="form-group">
                                    <label for="gcashReceipt">Upload Payment Receipt*</label>
                                    <input type="file" id="gcashReceipt" name="gcashReceipt" accept="image/*">
                                </div>
                            </div>
                            
                            <div id="storeDetails" class="payment-details">
                                <p>Visit our office to complete your payment:</p>
                                <div class="store-details">
                                    <p class="store-address">A.BEE Travel and Tours</p>
                                    <p>Ground Level, Robinsons Townville, H. Concepcion., Cabanatuan City</p>
                                    <p>Business Hours: Monday-Friday, 9:00 AM - 5:00 PM</p>
                                    <p>Contact: (044) 604 7273</p>
                                </div>
                                <div class="payment-instructions">
                                    <p>Instructions:</p>
                                    <ol>
                                        <li>Visit our office during business hours</li>
                                        <li>Mention your booking reference                                         number</li>
                                        <li>Make your payment via cash, credit card, or debit card</li>
                                        <li>Receive your booking confirmation</li>
                                    </ol>
                                </div>
                                
                            </div>
                        </div>
                        
                        <div class="booking-summary">
                            <h3>Booking Summary</h3>
                            <div class="summary-item">
                                <span>Tour Price:</span>
                                <span id="summaryPrice">‚Ç±0.00</span>
                            </div>
                            <div class="summary-item">
                                <span>Number of Travelers:</span>
                                <span id="summaryTravelers">1</span>
                            </div>
                            <div class="summary-total">
                                <span>Total:</span>
                                <span id="summaryTotal">‚Ç±0.00</span>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn-book" id="bookButton">Complete Booking</button>
                    </form>
                </div>
            </div>
        </div>

        <div id="bookingConfirmation" class="booking-confirmation">
            <div class="confirmation-icon">‚úì</div>
            <h2 class="confirmation-message">Booking Successful!</h2>
            <div class="confirmation-details">
                <p>Thank you for booking with A.BEE Travel and Tours.</p>
                <p>Your booking reference number: <strong id="bookingReference"></strong></p>
                <p>We have sent a confirmation email to <strong id="confirmationEmail"></strong>.</p>
                <p id="paymentInstructions"></p>
            </div>
            <a href="javascript:void(0);" onclick="returnToHome()" class="btn-home">Return to Home</a>
        </div>
    </div>

    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>
    <div id="errorModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#f26523" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
            </div>
            <h2>Login Required</h2>
            <p>Please log in to complete your booking.</p>
            <div class="modal-buttons">
                <button id="loginRedirectBtn" class="btn-primary">Login Now</button>
                <button id="cancelModalBtn" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

<div id="dateValidationModal" class="date-validation-modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <div class="modal-icon">
            ‚ö†Ô∏è
        </div>
        <h2>Invalid Date Selection</h2>
        <p>Start Date should not be today or past dates and should be 7 days in advance.</p>
        <div class="modal-buttons">
            <button id="dateValidationOkBtn" class="btn-primary">OK</button>
        </div>
    </div>
</div>

    <footer class="footer-columns">
        <div class="footer-content">
            <div class="footer-left">
                <h3>Contact Us</h3>
                <p>üìû (044) 604 7273</p>
                <p>üìû 09361055665</p>
                <p>üìß <a href="mailto:abeetravelandtours@gmail.com">abeetravelandtours@gmail.com</a></p>
            </div>
            <div class="footer-right">
            <h3>Follow Us</h3>
            <a href="https://www.facebook.com/abeetravelandtours" target="_blank">
                <img src="/images/communication.png" alt="Facebook" class="social-icon facebook-logo">
            </a>
            <a href="https://www.instagram.com/a.bee_travelandtours/" target="_blank">
                <img src="/images/instagram.png" alt="Instagram" class="social-icon instagram-logo">
            </a>
        </div>
        </div>
        <p class="footer-bottom">Copyright &copy; 2025 A.BEE Travel and Tours Website. All rights reserved.</p>
    </footer>

    <script>
        let isLoggedIn = false;
        let userData = null;
        
        document.addEventListener('DOMContentLoaded', function() {
            checkAuthStatus();
            updateNavbarUI();
            setupEventListeners();
            function updateTotalPrice() {
                const priceText = document.getElementById('tourPrice').textContent;
                const price = parseFloat(priceText.replace('‚Ç±', '').replace(/,/g, ''));
                const travelers = parseInt(document.getElementById('travelers').value);
                
                document.getElementById('summaryPrice').textContent = `‚Ç±${price.toLocaleString()}`;
                document.getElementById('summaryTravelers').textContent = travelers;
                
                const total = price * travelers;
                document.getElementById('summaryTotal').textContent = `‚Ç±${total.toLocaleString()}`;
            }
            const urlParams = new URLSearchParams(window.location.search);
            const tourId = urlParams.get('id');
            
            if (tourId) {
                document.getElementById('tourId').value = tourId;
                fetchTourDetails(tourId);
            } else {
                alert('No tour selected. Please choose a tour first.');
                window.location.href = '/';
            }
            
            checkAuthStatus();
const backButton = document.getElementById('backButton');
if (backButton) {
    backButton.addEventListener('click', function() {
        window.location.href = '/';
    });
}
            if (sessionStorage.getItem('isLoggedIn') === 'true') {
                isLoggedIn = true;
                try {
                    userData = JSON.parse(sessionStorage.getItem('userData'));
                } catch (e) {
                    console.error('Error parsing stored user data:', e);
                }
                updateUIForLoggedInUser();
            }
        });
        function fetchTourDetails(tourId) {
    showLoading();
    
    fetch(`/api/tours/${tourId}`)
        .then(response => {
            if (!response.ok) {
                throw new Error('Tour not found');
            }
            return response.json();
        })
        .then(tour => {
            window.tourData = tour;
            document.getElementById('tourImage').src = tour.imageUrl;
            document.getElementById('tourTitle').textContent = tour.title;
            
            const destinationText = tour.country ? 
                `Destination: ${tour.destination}, ${tour.country}` : 
                `Destination: ${tour.destination}`;
            document.getElementById('tourDestination').textContent = destinationText;
            
            document.getElementById('tourDuration').textContent = `Duration: ${tour.duration} ${tour.durationUnit}`;
            document.getElementById('tourDescription').textContent = tour.description;
            
            const formattedPrice = typeof tour.price === 'number' ? 
                `‚Ç±${tour.price.toLocaleString()}` : 
                `‚Ç±${parseFloat(tour.price).toLocaleString()}`;
            document.getElementById('tourPrice').textContent = formattedPrice;
            
            updateTotalPrice();
            hideLoading();
        })
        .catch(error => {
            console.error('Error fetching tour details:', error);
            alert('Error loading tour details. Please try again.');
            hideLoading();
        });
}
function setMinimumDate() {
    const today = new Date();
    const minDate = new Date(today);
    minDate.setDate(today.getDate() + 7);
    
    const startDateInput = document.getElementById('startDate');
    if (startDateInput) {
        const formattedMinDate = minDate.toISOString().split('T')[0];
        startDateInput.setAttribute('min', formattedMinDate);
    }
}

function validateStartDate(selectedDate) {
    const today = new Date();
    const selected = new Date(selectedDate);
    const minDate = new Date(today);
    minDate.setDate(today.getDate() + 7);
    
    today.setHours(0, 0, 0, 0);
    selected.setHours(0, 0, 0, 0);
    minDate.setHours(0, 0, 0, 0);
    
    return selected >= minDate;
}
function showDateValidationModal() {
    const modal = document.getElementById('dateValidationModal');
    modal.style.display = 'flex';
}
function closeDateValidationModal() {
    const modal = document.getElementById('dateValidationModal');
    modal.style.display = 'none';
}
setMinimumDate();

const startDateInput = document.getElementById('startDate');
if (startDateInput) {
    startDateInput.addEventListener('change', function() {
        const selectedDate = this.value;
        if (selectedDate && !validateStartDate(selectedDate)) {
            showDateValidationModal();
            this.value = '';
        }
    });
    
    startDateInput.addEventListener('blur', function() {
        const selectedDate = this.value;
        if (selectedDate && !validateStartDate(selectedDate)) {
            showDateValidationModal();
            this.value = '';
        }
    });
}
const dateValidationModal = document.getElementById('dateValidationModal');
if (dateValidationModal) {
    document.getElementById('dateValidationOkBtn').addEventListener('click', closeDateValidationModal);
    dateValidationModal.querySelector('.close-modal').addEventListener('click', closeDateValidationModal);
    dateValidationModal.addEventListener('click', function(event) {
        if (event.target === dateValidationModal) {
            closeDateValidationModal();
        }
    });
}

        function setupEventListeners() {
            
           document.getElementById('tourBookingForm').addEventListener('submit', function(e) {
    e.preventDefault();
    if (!isLoggedIn) {
        showErrorModal('Please log in to complete your booking.');
        return;
    }
    const nationality = document.getElementById('nationality').value;
    if (!nationality) {
        alert('Please enter your nationality.');
        return;
    }
    const passportValid = document.getElementById('passportValid').checked;
    const visaAware = document.getElementById('visaAware').checked;
    const documentResponsibility = document.getElementById('documentResponsibility').checked;
    
    if (!passportValid || !visaAware || !documentResponsibility) {
        alert('Please confirm all travel document requirements before proceeding.');
        return;
    }
    const selectedPayment = document.querySelector('input[name="paymentMethod"]:checked');
    if (!selectedPayment) {
        alert('Please select a payment method.');
        return;
    }
    processBooking(selectedPayment.value);
});
            const paymentOptions = document.querySelectorAll('.payment-option');
            paymentOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const method = this.dataset.method;
                    const radio = this.querySelector('input[type="radio"]');
                    
                    radio.checked = true;
                    paymentOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
        
                    document.querySelectorAll('.payment-details').forEach(detail => {
                        detail.classList.remove('active');
                    });
                    document.getElementById(`${method}Details`).classList.add('active');
                
                    const bookButton = document.getElementById('bookButton');
                    if (method === 'gcash') {
                        bookButton.style.display = 'block';
                        bookButton.textContent = 'Submit Booking with GCash';
                    } else if (method === 'store') {
                        bookButton.style.display = 'block';
                        bookButton.textContent = 'Reserve for In-Store Payment';
                        
                        document.querySelector('#storeDetails p:last-child').innerHTML = 
                            '<strong>Note:</strong> Your booking will be reserved for 8 hours only. If payment is not received within this time, your reservation will be automatically cancelled.';
                    }
                });
            });
            document.getElementById('travelers').addEventListener('change', function() {
                updateTotalPrice();
            });
            
            
        }
        
      function processBooking(paymentMethod, paymentId = null) {
    const startDate = document.getElementById('startDate').value;
    if (!startDate || !validateStartDate(startDate)) {
        showDateValidationModal();
        return;
    }
    showLoading();
    const form = document.getElementById('tourBookingForm');
    const formData = new FormData(form);
    const totalAmount = document.getElementById('summaryTotal').textContent
        .replace('‚Ç±', '')
        .replace(/,/g, '');

    if (paymentMethod === 'gcash') {
        const receiptFile = document.getElementById('gcashReceipt').files[0];
        
        if (!receiptFile) {
            hideLoading();
            alert('Please upload your GCash payment receipt');
            return;
        }
        const uploadData = new FormData();
        uploadData.append('receipt', receiptFile);
        
        fetch('/api/test-upload', {
            method: 'POST',
            body: uploadData,
            credentials: 'include'
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Failed to upload receipt');
            }
            return response.json();
        })
        .then(uploadResult => {
            const bookingData = {
                tourId: formData.get('tourId'),
                fullName: formData.get('fullName'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                nationality: formData.get('nationality'),
                travelers: parseInt(formData.get('travelers')),
                startDate: formData.get('startDate'),
                specialRequests: formData.get('specialRequests'),
                paymentMethod: paymentMethod,
                paymentId: paymentId,
                receiptUrl: uploadResult.fileUrl,
                totalAmount: parseFloat(totalAmount),
                budget: totalAmount,
                endDate: formData.get('startDate'),
                middleInitial: userData?.middleInitial || null,
                suffix: userData?.suffix || null,
                country: window.tourData?.country || null
            };
            
            submitBooking(bookingData);
        })
        .catch(error => {
            console.error('Error uploading receipt:', error);
            alert('Error uploading receipt. Please try again.');
            hideLoading();
        });
    } else {
        const bookingData = {
            tourId: formData.get('tourId'),
            fullName: formData.get('fullName'),
            email: formData.get('email'),
            phone: formData.get('phone'),
            nationality: formData.get('nationality'),
            travelers: parseInt(formData.get('travelers')),
            startDate: formData.get('startDate'),
            specialRequests: formData.get('specialRequests'),
            paymentMethod: paymentMethod,
            paymentId: paymentId,
            totalAmount: parseFloat(totalAmount),
            budget: totalAmount,
            endDate: formData.get('startDate'),
            middleInitial: userData?.middleInitial || null,
            suffix: userData?.suffix || null,
            country: window.tourData?.country || null
        };
        
        submitBooking(bookingData);
    }
}


        function submitBooking(bookingData) {
            fetch('/submit-booking', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(bookingData),
                credentials: 'include'
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to submit booking');
                }
                return response.json();
            })
            .then(data => {
                hideLoading();
                
                if (data.success) {
                    const bookingRef = data.bookingReference || data.bookingId || generateBookingReference();
                    showBookingConfirmation(bookingData, bookingRef);
                } else {
                    alert(data.message || 'Failed to submit booking. Please try again.');
                }
            })
            .catch(error => {
                console.error('Error submitting booking:', error);
                alert('Error submitting booking. Please try again.');
                hideLoading();
            });
        }
        function showBookingConfirmation(bookingData, bookingRef) {
            document.getElementById('bookingForm').style.display = 'none';
            const confirmation = document.getElementById('bookingConfirmation');
            confirmation.style.display = 'block';
            
            document.getElementById('bookingReference').textContent = bookingRef;
            document.getElementById('confirmationEmail').textContent = bookingData.email;
            const paymentInstructions = document.getElementById('paymentInstructions');
            if (bookingData.paymentMethod === 'gcash') {
                paymentInstructions.textContent = 'We have received your GCash payment. Our team will verify it shortly.';
            } else if (bookingData.paymentMethod === 'store') {
                paymentInstructions.innerHTML = '<strong>Important:</strong> Please visit our office within 8 hours to complete your payment. Your booking will be automatically cancelled if payment is not received within this time.';
            }
            
            isLoggedIn = true;
            localStorage.setItem("isLoggedIn", "true");
            sessionStorage.setItem("isLoggedIn", "true");
            
            if (userData) {
                sessionStorage.setItem("userData", JSON.stringify(userData));
            }
            sessionStorage.setItem("bookingSuccess", "true");
            updateUIForLoggedInUser();
            
            setTimeout(() => {
                window.location.href = '/?booking=success&timestamp=' + new Date().getTime();
            }, 15000);
        }
        
        

        function generateBookingReference() {
            const prefix = 'ABEE';
            const timestamp = Date.now().toString().slice(-6);
            const random = Math.floor(Math.random() * 10000).toString().padStart(4, '0');
            return `${prefix}-${timestamp}-${random}`;
        }

        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }
        
        function updateUIForLoggedInUser() {
            document.getElementById('loginBtnWrapper').style.display = 'none';
            document.getElementById('userProfile').style.display = 'block';
        }
        
        function checkAuthStatus() {
            if (sessionStorage.getItem("isLoggedIn") === "true") {
                isLoggedIn = true;
                updateUIForLoggedInUser();
                fetchUserData();
                return;
            }
            fetch('/check-auth')
                .then(response => response.json())
                .then(data => {
                    isLoggedIn = data.isLoggedIn;
                    
                    if (isLoggedIn) {
                        sessionStorage.setItem("isLoggedIn", "true");
                        updateUIForLoggedInUser();
                        fetchUserData();
                    } else {
                        document.getElementById('loginBtnWrapper').style.display = 'block';
                        document.getElementById('userProfile').style.display = 'none';
                    }
                })
                .catch(error => {
                    console.error('Error checking authentication status:', error);
                    isLoggedIn = false;
                });
        }
function fetchUserData() {
    if (!isLoggedIn) return;
    
    console.log("Fetching user data...");
    
    fetch('/api/user-profile', {
        credentials: 'include'  
    })
    .then(response => {
        console.log("Response status:", response.status);
        if (!response.ok) {
            throw new Error('Failed to fetch user data');
        }
        return response.json();
    })
    .then(data => {
        userData = data;
        console.log("User data received:", userData);
        
        sessionStorage.setItem('userData', JSON.stringify(userData));
        
        if (userData) {
            let fullName = userData.firstName || '';
            if (userData.middleInitial) {
                fullName += ' ' + userData.middleInitial + '.';
            }
            if (userData.lastName) {
                fullName += ' ' + userData.lastName;
            }
            if (userData.suffix) {
                fullName += ', ' + userData.suffix;
            }
            
            fullName = fullName.trim();
            
            if (fullName) {
                const fullNameField = document.getElementById('fullName');
                fullNameField.value = fullName;
                fullNameField.readOnly = true;
                fullNameField.classList.add('readonly-field');
            }
            
            if (userData.email) {
                const emailField = document.getElementById('email');
                emailField.value = userData.email;
                emailField.readOnly = true;
                emailField.classList.add('readonly-field');
            }
            
            if (userData.phoneNumber) {
                const phoneField = document.getElementById('phone');
                phoneField.value = userData.phoneNumber;
                phoneField.readOnly = true;
                phoneField.classList.add('readonly-field');
            }
            if (userData.nationality) {
                const nationalityField = document.getElementById('nationality');
                nationalityField.value = userData.nationality;
                nationalityField.readOnly = true;
                nationalityField.classList.add('readonly-field');
            }
        }
    })
    .catch(error => {
        console.error('Error fetching user data:', error);
    });
}
        document.addEventListener('DOMContentLoaded', function() {
            const profileIcon = document.getElementById('profileIconWrapper');
            const profileDropdown = document.getElementById('profileDropdown');
            
            if (profileIcon) {
                profileIcon.addEventListener('click', function(e) {
                    e.stopPropagation();
                    profileDropdown.style.display = profileDropdown.style.display === 'block' ? 'none' : 'block';
                });
            }
            
            document.addEventListener('click', function() {
                if (profileDropdown) {
                    profileDropdown.style.display = 'none';
                }
            });
            const loginBtn = document.getElementById('loginBtn');
            if (loginBtn) {
                loginBtn.addEventListener('click', function() {
                    window.location.href = '/login';
                });
            }
        });
        function showErrorModal(message) {
            const modal = document.getElementById('errorModal');
            const modalMessage = document.querySelector('#errorModal p');
            
            if (message) {
                modalMessage.textContent = message;
            }
            modal.style.display = 'flex';
            document.querySelector('.close-modal').addEventListener('click', closeErrorModal);
            document.getElementById('cancelModalBtn').addEventListener('click', closeErrorModal);
            document.getElementById('loginRedirectBtn').addEventListener('click', function() {
                window.location.href = '/login';
            });
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    closeErrorModal();
                }
            });
        }
        function closeErrorModal() {
            document.getElementById('errorModal').style.display = 'none';
        }
        const modal = document.getElementById('errorModal');
        if (modal) {
            document.querySelector('.close-modal').addEventListener('click', closeErrorModal);
            document.getElementById('cancelModalBtn').addEventListener('click', closeErrorModal);
            document.getElementById('loginRedirectBtn').addEventListener('click', function() {
                window.location.href = '/login';
            });
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    closeErrorModal();
                }
            });
        }
        document.addEventListener('DOMContentLoaded', function() {
    const header = document.querySelector('header');
    if (header && !header.querySelector('.hamburger-menu')) {
        const hamburgerMenu = document.createElement('div');
        hamburgerMenu.className = 'hamburger-menu';
        hamburgerMenu.innerHTML = '<span></span><span></span><span></span>';
        header.appendChild(hamburgerMenu);
        
        if (!document.querySelector('.overlay-bg')) {
            const overlayBg = document.createElement('div');
            overlayBg.className = 'overlay-bg';
            document.body.appendChild(overlayBg);
        }
    }
    
    const navUl = document.querySelector('nav ul');
    if (navUl) {
        const homeLink = navUl.querySelector('li a[href="/"]');
        if (homeLink) {
            homeLink.textContent = 'Go Back';
            homeLink.href = 'javascript:history.back()';
        }
    }
    const hamburgerMenu = document.querySelector('.hamburger-menu');
    const navMenu = document.querySelector('nav ul');
    const overlayBg = document.querySelector('.overlay-bg');
    
    if (hamburgerMenu && navMenu && overlayBg) {
        hamburgerMenu.addEventListener('click', function(e) {
            e.stopPropagation();
            this.classList.toggle('active');
            navMenu.classList.toggle('active');
            overlayBg.classList.toggle('active');
            
            document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : '';
        });
        overlayBg.addEventListener('click', function() {
            hamburgerMenu.classList.remove('active');
            navMenu.classList.remove('active');
            this.classList.remove('active');
            document.body.style.overflow = '';
        });
    }
    const notificationIcon = document.getElementById('notificationIcon');
    const notificationDropdown = document.getElementById('notificationDropdown');
    
    if (notificationIcon && notificationDropdown) {
        const newNotificationIcon = notificationIcon.cloneNode(true);
        notificationIcon.parentNode.replaceChild(newNotificationIcon, notificationIcon);
        
        newNotificationIcon.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            if (notificationDropdown.style.display === 'block') {
                notificationDropdown.style.display = 'none';
            } else {
                notificationDropdown.style.display = 'block';
            }
            
            if (window.innerWidth <= 768 && navMenu.classList.contains('active')) {
                e.stopImmediatePropagation();
            }
        });
    }
    if (notificationDropdown) {
        notificationDropdown.addEventListener('click', function(e) {
            if (window.innerWidth <= 768 && navMenu.classList.contains('active')) {
                e.stopPropagation(); 
            }
        });
    }
});
function updateTotalPrice() {
    const priceText = document.getElementById('tourPrice').textContent;
    const basePrice = parseFloat(priceText.replace('‚Ç±', '').replace(/,/g, ''));
    
    const travelers = parseInt(document.getElementById('travelers').value) || 1;
    const total = basePrice * travelers;

    document.getElementById('summaryPrice').textContent = `‚Ç±${basePrice.toLocaleString()}`;
    document.getElementById('summaryTravelers').textContent = travelers;
    document.getElementById('summaryTotal').textContent = `‚Ç±${total.toLocaleString()}`;
}
document.addEventListener('DOMContentLoaded', function() {
    const travelersInput = document.getElementById('travelers');
    if (travelersInput) {
        travelersInput.addEventListener('change', updateTotalPrice);
        travelersInput.addEventListener('input', updateTotalPrice);
    }
    updateTotalPrice();
});
function returnToHome() {
    if (isLoggedIn) {
        localStorage.setItem("isLoggedIn", "true");
        sessionStorage.setItem("isLoggedIn", "true");
        
        if (userData) {
            sessionStorage.setItem("userData", JSON.stringify(userData));
        }
        sessionStorage.setItem("bookingSuccess", "true");
    }
    window.location.href = '/?booking=success&timestamp=' + new Date().getTime();
}
function updateNavbarUI() {
    const isLoggedIn = localStorage.getItem("isLoggedIn") === "true" || 
                       sessionStorage.getItem("isLoggedIn") === "true";
    if (isLoggedIn) {
        const loginBtnWrapper = document.getElementById('loginBtnWrapper');
        const signupBtnWrapper = document.getElementById('signupBtnWrapper');
        const adminLoginBtnWrapper = document.getElementById('adminLoginBtnWrapper');
        
        if (loginBtnWrapper) loginBtnWrapper.style.display = 'none';
        if (signupBtnWrapper) signupBtnWrapper.style.display = 'none';
        if (adminLoginBtnWrapper) adminLoginBtnWrapper.style.display = 'none';
        
        const userProfile = document.getElementById('userProfile');
        if (userProfile) userProfile.style.display = 'block';
        
        let notificationWrapper = document.getElementById('notificationWrapper');
        if (!notificationWrapper) {
            notificationWrapper = document.createElement('li');
            notificationWrapper.id = 'notificationWrapper';
            notificationWrapper.innerHTML = `
                <a href="javascript:void(0);" id="notificationIcon">
                    <img src="/images/bell.png" class="notification-icon">
                </a>
                <ul id="notificationDropdown" class="dropdown-menu" style="display: none;">
                    <li><span id="bookingStatus">You have a new booking!</span></li>
                    <li><a href="/my-bookings">Check My Bookings</a></li>
                </ul>
            `;
            
            const navUl = document.querySelector('nav ul');
            const userProfileLi = document.getElementById('userProfile');
            if (navUl && userProfileLi) {
                navUl.insertBefore(notificationWrapper, userProfileLi);
                
                const notificationIcon = document.getElementById('notificationIcon');
                const notificationDropdown = document.getElementById('notificationDropdown');
                
                if (notificationIcon && notificationDropdown) {
                    notificationIcon.addEventListener('click', function(e) {
                        e.stopPropagation();
                        notificationDropdown.style.display = 
                            notificationDropdown.style.display === 'block' ? 'none' : 'block';
                    });
                }
            }
        } else {
            notificationWrapper.style.display = 'block';
        }
    } else {
        const loginBtnWrapper = document.getElementById('loginBtnWrapper');
        const signupBtnWrapper = document.getElementById('signupBtnWrapper');
        const adminLoginBtnWrapper = document.getElementById('adminLoginBtnWrapper');
        
        if (loginBtnWrapper) loginBtnWrapper.style.display = 'block';
        if (signupBtnWrapper) signupBtnWrapper.style.display = 'block';
        if (adminLoginBtnWrapper) adminLoginBtnWrapper.style.display = 'block';
        
        const userProfile = document.getElementById('userProfile');
        const notificationWrapper = document.getElementById('notificationWrapper');
        
        if (userProfile) userProfile.style.display = 'none';
        if (notificationWrapper) notificationWrapper.style.display = 'none';
    }
}
function updateUIForLoggedInUser() {
    const loginBtnWrapper = document.getElementById('loginBtnWrapper');
    if (loginBtnWrapper) loginBtnWrapper.style.display = 'none';
    
    const signupBtnWrapper = document.getElementById('signupBtnWrapper');
    const adminLoginBtnWrapper = document.getElementById('adminLoginBtnWrapper');
    
    if (signupBtnWrapper) signupBtnWrapper.style.display = 'none';
    if (adminLoginBtnWrapper) adminLoginBtnWrapper.style.display = 'none';
    
    const userProfile = document.getElementById('userProfile');
    if (userProfile) userProfile.style.display = 'block';
    
    let notificationWrapper = document.getElementById('notificationWrapper');
    if (!notificationWrapper) {
        notificationWrapper = document.createElement('li');
        notificationWrapper.id = 'notificationWrapper';
        notificationWrapper.innerHTML = `
            <a href="javascript:void(0);" id="notificationIcon">
                <img src="/images/bell.png" class="notification-icon">
            </a>
            <ul id="notificationDropdown" class="dropdown-menu" style="display: none;">
                <li><span id="bookingStatus">You have a new booking!</span></li>
                <li><a href="/my-bookings">Check My Bookings</a></li>
            </ul>
        `;
        
        const navUl = document.querySelector('nav ul');
        if (navUl && userProfile) {
            navUl.insertBefore(notificationWrapper, userProfile);
            
            const notificationIcon = document.getElementById('notificationIcon');
            const notificationDropdown = document.getElementById('notificationDropdown');
            
            if (notificationIcon && notificationDropdown) {
                notificationIcon.addEventListener('click', function(e) {
                    e.stopPropagation();
                    notificationDropdown.style.display = 
                        notificationDropdown.style.display === 'block' ? 'none' : 'block';
                });
            }
        }
    } else {
        notificationWrapper.style.display = 'block';
    }
}

    </script>
</body>
</html>
